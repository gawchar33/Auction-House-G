<!DOCTYPE html>
<html ng-app="customerApp">
<head>
  <meta charset="utf-8" />
  <title>Customers</title>
  <link rel="stylesheet" href="style.css" />
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.3/angular.min.js"></script>
  <script src="customer.js"></script>
</head>
<body ng-controller="CustomerController">

  <div class="customer-wrapper">
    <div class="form-card">
      <h1 class="card-title">Add Customer</h1>

      <form name="custForm" ng-submit="editMode ? updateCustomer() : createCustomer()" novalidate>
        <div class="row">
          <label class="field">
            <span class="label">Name</span>
            <input type="text" ng-model="customer.name" placeholder="Full name" required />
          </label>

          <label class="field">
            <span class="label">Phone</span>
            <input type="text" ng-model="customer.phone" placeholder="+1 555 555 5555" required />
          </label>
        </div>

        <div class="row">
          <label class="field">
            <span class="label">Email</span>
            <input type="email" ng-model="customer.email" placeholder="email@example.com" required />
          </label>

          <label class="field">
            <span class="label">Address</span>
            <input type="text" ng-model="customer.address" placeholder="Street, City, State" />
          </label>
        </div>

        <div class="form-actions">
          <button class="btn primary" type="submit" ng-disabled="custForm.$invalid">Add Customer</button>
          <button class="btn neutral" type="button" ng-if="editMode" ng-click="cancelEdit()">Cancel</button>
        </div>

        <div class="status" ng-if="status">{{ status }}</div>
      </form>
    </div>

    <div class="list-card">
      <h2 class="list-title">Customer List</h2>

      <div class="table-wrap">
        <table class="table">
          <thead>
            <tr>
              <th class="col-id">ID</th>
              <th class="col-name">Name</th>
              <th class="col-email">Email</th>
              <th class="col-phone">Phone</th>
              <th class="col-address">Address</th>
              <th class="col-actions">Actions</th>
            </tr>
          </thead>
          <tbody>
            <tr ng-repeat="c in customers">
              <td>{{ c.id }}</td>
              <td>{{ c.name }}</td>
              <td>{{ c.email }}</td>
              <td>{{ c.phone }}</td>
              <td class="address-col">{{ c.address || 'â€”' }}</td>
              <td class="actions-col">
                <button class="btn small" ng-click="editCustomer(c)">Edit</button>
                <button class="btn danger small" ng-click="deleteCustomer(c.id)">Delete</button>
              </td>
            </tr>
            <tr ng-if="!customers.length">
              <td colspan="6" class="empty">No customers found.</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>

</body>
</html>